{{define "pagination"}}
{{/*
  Pagination navigation component.

  Parameters (via dict):
    Offset       - int: Current offset (0-based)
    Limit        - int: Items per page
    TotalCount   - int: Total number of items
    CurrentPage  - int: Current page number (1-based)
    TotalPages   - int: Total number of pages
    HasMore      - bool: Whether there are more items
    ItemCount    - int: Number of items on current page
    QueryParams  - string: Additional query params (e.g., "tenant_id=foo&state=pending")
*/}}
{{if gt .TotalPages 1}}
<nav class="flex items-center justify-between border-t border-gray-700 bg-gray-800 px-4 py-3 sm:px-6 rounded-lg shadow-lg shadow-gray-900/50">
    <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
        <div>
            <p class="text-sm text-gray-400">
                Showing <span class="font-medium text-gray-200">{{add .Offset 1}}</span> to <span class="font-medium text-gray-200">{{add .Offset .ItemCount}}</span> of <span class="font-medium text-gray-200">{{.TotalCount}}</span> results
            </p>
        </div>
        <div>
            <nav class="isolate inline-flex -space-x-px rounded-md shadow-sm" aria-label="Pagination">
                {{if gt .CurrentPage 1}}
                <a href="?offset={{mul (sub .CurrentPage 2) .Limit}}&limit={{.Limit}}{{if .QueryParams}}&{{.QueryParams}}{{end}}" class="relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-600 hover:bg-gray-700">
                    <span class="sr-only">Previous</span>
                    {{template "icon-chevron-left" (dict)}}
                </a>
                {{end}}
                {{range seq 1 .TotalPages}}
                <a href="?offset={{mul (sub . 1) $.Limit}}&limit={{$.Limit}}{{if $.QueryParams}}&{{$.QueryParams}}{{end}}" class="relative inline-flex items-center px-4 py-2 text-sm font-semibold {{if eq . $.CurrentPage}}bg-cyan-600 text-white{{else}}text-gray-300 ring-1 ring-inset ring-gray-600 hover:bg-gray-700{{end}}">{{.}}</a>
                {{end}}
                {{if .HasMore}}
                <a href="?offset={{mul .CurrentPage .Limit}}&limit={{.Limit}}{{if .QueryParams}}&{{.QueryParams}}{{end}}" class="relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-600 hover:bg-gray-700">
                    <span class="sr-only">Next</span>
                    {{template "icon-chevron-right" (dict)}}
                </a>
                {{end}}
            </nav>
        </div>
    </div>
</nav>
{{end}}
{{end}}
